# mock-pipeline
## Repository Structure
```
.
├── README.md
├── input_data ...................................... Any data to be entered into the module should be placed here.
│   └── problem.txt ................................. A sample research problem read by the hypothesis_generation module.
├── modules ......................................... The modules that make up the pipeline.
│   ├── __init__.py
│   ├── hypothesis_generation.py .................... A module that generates a hypothesis given a problem.
│   ├── verification_design.py ...................... A module that designs a verification plan given problem and hypothesis.
│   ├── verification_execution.py ................... A module that executes a insntantiated verification plan.
│   └── verification_instantiation.py ............... A module that instantiates a verification plan given a design.
├── pipeline.py ..................................... The main pipeline script.
├── scripts ......................................... Scripts that are generated by the modules.
│   ├── package_install.py .......................... A script by verification_instantiation that installs required packages.
│   └── verification.py ............................. A script by verification_instantiation that executes the verification.
└── outputs ......................................... Generated outputs.
    ├── evaluation.csv .............................. The results of evaluation for each run.
    ├── 2023-09-07_15-04-15 ......................... Outputs saved at 2023-09-07_15-04-15
    │   ├── hypothesis_candidates.txt ............... Hypothesis candidates generated by "Hypothesis Candidate Generation".
    │   ├── hypothesis.txt .......................... Hypothesis generated (selected) by "Hypothesis Selection".
    │   ├── representation_of_hypothesis.txt ........ Reformulated hypothesis generated by "Hypothesis Reformulation".
    │   ├── verification_plan.txt ................... Verification plan generated by "Verification Plan Design".
    │   ├── raw_verification_code_in_text.txt ....... Verification code generated by "Verification Code Generation".
    │   ├── refined_verification_code_in_text.txt ... Verification code re-generated to follow instruction by "Instruction Following".
    │   ├── verification_code.py .................... Verification code extracted from refined_verification_code_in_text.txt. and saved as Python script.
    │   ├── verification_code_updated.py ............ Verification code updated based on error messages.
    │   └── package_install_code.py ................. Package installation code generated by "Package Install Code Generation".
    ├── 2023-09-07_15-04-16 ......................... Outputs saved at 2023-09-07_15-04-16
    │   ├── hypothesis_candidates.txt ............... Hypothesis candidates generated by "Hypothesis Candidate Generation".
```

## Quick Start
### Create a Virtual Environment
```shell
conda create -n autores
conda activate autores
conda install -c conda-forge langchain
```
### Set Environment Variables
```shell
export OPENAI_API_KEY="your-api-key"
```

### Run Pipeline
```shell
python pipeline.py
```

### Run Pipeline 50 Times
```shell
```shell
./run_pipeline.sh
```